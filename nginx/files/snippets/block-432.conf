# Generated from https://gitlab.karlsruhe.freifunk.net/firmware/buildenv/blob/master/unwanted_devices
if ($request_uri ~* /images/.*(gluon-ffka-.*-alfa.*AP121.*.bin|gluon-ffka-.*-alfa.*AP121U.*.bin|gluon-ffka-.*-alfa.*Hornet-UB.*.bin|gluon-ffka-.*-alfa.*Tube2H.*.bin|gluon-ffka-.*-alfa.*N2.*.bin|gluon-ffka-.*-alfa.*N5.*.bin|gluon-ffka-.*-d-link.*DIR-615.*.bin|gluon-ffka-.*-linksys.*WRT160NL.*.bin|gluon-ffka-.*-tp-link.*TL-MR13U.*.bin|gluon-ffka-.*-tp-link.*TL-MR3020.*V1.*.bin|gluon-ffka-.*-tp-link.*TL-MR3040.*.bin|gluon-ffka-.*-tp-link.*TL-MR3220.*.bin|gluon-ffka-.*-tp-link.*TL-MR3420.*V1.*.bin|gluon-ffka-.*-tp-link.*TL-MR3420.*V2.*.bin|gluon-ffka-.*-tp-link.*TL-MR3420.*V3.*.bin|gluon-ffka-.*-tp-link.*TL-WA701N.*.bin|gluon-ffka-.*-tp-link.*TL-WA7210N.*.bin|gluon-ffka-.*-tp-link.*TL-WA730RE.*.bin|gluon-ffka-.*-tp-link.*TL-WA750RE.*.bin|gluon-ffka-.*-tp-link.*TL-WA7510N.*.bin|gluon-ffka-.*-tp-link.*TL-WA801N.*V1.*.bin|gluon-ffka-.*-tp-link.*TL-WA801N.*V2.*.bin|gluon-ffka-.*-tp-link.*TL-WA801N.*V3.*.bin|gluon-ffka-.*-tp-link.*TL-WA801N.*V4.*.bin|gluon-ffka-.*-tp-link.*TL-WA830RE.*.bin|gluon-ffka-.*-tp-link.*TL-WA850RE.*.bin|gluon-ffka-.*-tp-link.*TL-WA860RE.*.bin|gluon-ffka-.*-tp-link.*TL-WA901N.*.bin|gluon-ffka-.*-tp-link.*TL-WR1043N.*V1.*.bin|gluon-ffka-.*-tp-link.*TL-WR703N.*.bin|gluon-ffka-.*-tp-link.*TL-WR710N.*.bin|gluon-ffka-.*-tp-link.*TL-WR740N.*.bin|gluon-ffka-.*-tp-link.*TL-WR741N.*.bin|gluon-ffka-.*-tp-link.*TL-WR743N.*.bin|gluon-ffka-.*-tp-link.*TL-WR802N.*.bin|gluon-ffka-.*-tp-link.*TL-WR810N.*.bin|gluon-ffka-.*-tp-link.*TL-WR841N.*V3.*.bin|gluon-ffka-.*-tp-link.*TL-WR841N.*V5.*.bin|gluon-ffka-.*-tp-link.*TL-WR841N.*V7.*.bin|gluon-ffka-.*-tp-link.*TL-WR841N.*V8.*.bin|gluon-ffka-.*-tp-link.*TL-WR841N.*V9.*.bin|gluon-ffka-.*-tp-link.*TL-WR841N.*V10.*.bin|gluon-ffka-.*-tp-link.*TL-WR841N.*V11.*.bin|gluon-ffka-.*-tp-link.*TL-WR841N.*V12.*.bin|gluon-ffka-.*-tp-link.*TL-WR841N.*V14.*.bin|gluon-ffka-.*-tp-link.*TL-WR842N.*v1.*.bin|gluon-ffka-.*-tp-link.*TL-WR842N.*v2.*.bin|gluon-ffka-.*-tp-link.*TL-WR843N.*.bin|gluon-ffka-.*-tp-link.*TL-WR940N.*.bin|gluon-ffka-.*-tp-link.*TL-WR941N.*.bin|gluon-ffka-.*-ubiquiti.*AirGateway.*.bin|gluon-ffka-.*-ubiquiti.*AirRouter.*.bin|gluon-ffka-.*-ubiquiti.*Bullet.*.bin|gluon-ffka-.*-ubiquiti.*Litestation.*SR71.*.bin|gluon-ffka-.*-ubiquiti.*NanoStation.*Loco.*M2.bin|gluon-ffka-.*-ubiquiti.*NanoStation.*Loco.*M5.bin|gluon-ffka-.*-ubiquiti.*NanoStation.*M2.bin|gluon-ffka-.*-ubiquiti.*NanoStation.*M5.bin|gluon-ffka-.*-ubiquiti.*PicoStation.*.bin)) {
    set $block_download I;
}

if ($http_user_agent !~* "Gluon\s*Autoupdater\s*\(using\s*libuclient\)") {
    set $block_download "${block_download}UA";
}

if ($block_download = IUA) {
     return 302 https://docs.karlsruhe.freifunk.net/firmware/eol-devices/;
}
